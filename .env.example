# Database connection
# PostgreSQL with psycopg3 driver
DATABASE_URL=postgresql+psycopg://dealintel:dealintel_dev@localhost:5432/dealintel

# OpenAI API
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-key-here
# Recommended model for cost efficiency (~$0.15/1M input tokens)
OPENAI_MODEL=gpt-4o-mini

# SendGrid API
# Get your key from: https://app.sendgrid.com/settings/api_keys
# Required permission: Mail Send
SENDGRID_API_KEY=SG.your-key-here

# Email addresses
# Sender must be verified in SendGrid
SENDER_EMAIL=your-deals@gmail.com
# Where to send the daily digest
RECIPIENT_EMAIL=your-personal@gmail.com

# Source toggles
INGEST_GMAIL=false
INGEST_WEB=true
INGEST_INBOUND=false
# Ignore robots.txt (use only for experimentation)
INGEST_IGNORE_ROBOTS=false

# Web crawl defaults
WEB_DEFAULT_CRAWL_DELAY_SECONDS=30
# Limit per-store web requests per run (unset = no limit)
WEB_DEFAULT_MAX_REQUESTS_PER_RUN=

# Payload storage
# Inline payloads up to this size; larger payloads saved to disk
PAYLOAD_MAX_INLINE_BYTES=200000
PAYLOAD_BLOB_DIR=~/.deals-bot/payloads

# Browser automation (Playwright)
BROWSER_USER_DATA_DIR=~/.deals-bot/browser-profile
BROWSER_HEADLESS=false
BROWSER_TIMEOUT_MS=30000
BROWSER_ARTIFACTS_DIR=~/.deals-bot/browser-artifacts
BROWSER_TRACE_DIR=~/.deals-bot/browser-traces

# Human assist queue
HUMAN_ASSIST_DIR=~/.deals-bot/human-assist
HUMAN_ASSIST_RETENTION_DAYS=14

# Newsletter automation
NEWSLETTER_SERVICE_EMAIL=

# Gmail OAuth
# Download from Google Cloud Console: https://console.cloud.google.com/apis/credentials
GMAIL_CREDENTIALS_PATH=credentials.json
# Token is auto-generated after first OAuth flow
GMAIL_TOKEN_PATH=token.json
